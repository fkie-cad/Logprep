process_count: 1
timeout: 0.1

pipeline:
  - normalizer:
      type: normalizer
      specific_rules:
        - tests/testdata/unit/normalizer/rules/specific/
      generic_rules:
        - tests/testdata/unit/normalizer/rules/generic/
      regex_mapping: tests/testdata/unit/normalizer/regex_mapping.yml
  - labelername:
      type: labeler
      schema: tests/testdata/unit/labeler/schemas/schema3.json
      include_parent_labels: true
      specific_rules:
        - tests/testdata/unit/labeler/rules/specific/
      generic_rules:
        - tests/testdata/unit/labeler/rules/generic/
  - pseudonymizer:
      type: pseudonymizer
      pubkey_analyst: tests/testdata/unit/pseudonymizer/example_analyst_pub.pem
      pubkey_depseudo: tests/testdata/unit/pseudonymizer/example_depseudo_pub.pem
      regex_mapping: tests/testdata/unit/pseudonymizer/rules/regex_mapping.yml
      hash_salt: a_secret_tasty_ingredient
      pseudonyms_topic: pseudonyms
      specific_rules:
        - tests/testdata/unit/pseudonymizer/rules/specific/
      generic_rules:
        - tests/testdata/unit/pseudonymizer/rules/generic/
      max_cached_pseudonyms: 1000000
      max_caching_days: 1
