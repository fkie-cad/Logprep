connector:
  # The replica count
  replicas: 1

  # The pod resources
  resources:
    limits:
      memory: "2Gi"
      cpu: "1"
    requests:
      memory: "2Gi"
      cpu: "250m"

  # Optional secrets that will be mounted into the pod
  # Listed secrets are handled specially by the logprep deployment.
  # Additional secrets will be mounted as usual.
  # secrets:
  #   certificates:
  #     name: ca-cert # Name of the secret containing the ca certificate (or chain) in one data block
  #   credentials:
  #     name: logprep-credentials # Name of the secret containing the logprep credentials file
  #   imagePullSecret:
  #     name: logprep-image-pull-secret # Name of the secret containing the image pull secret
  secrets: {}

  # Logprep logging configuration.
  # See: https://logprep.readthedocs.io/en/latest/user_manual/configuration/index.html#configuration-file-structure
  # for available configuration options.
  logger:
    level: DEBUG
  input:
    type: http_input
    message_backlog_size: 150
    collect_meta: True
    metafield_name: "@metadata"
    uvicorn_config:
      host: 0.0.0.0
      port: 9000
      workers: 2
      access_log: true
      server_header: false
      date_header: false
    endpoints:
      /auth-json: json
      /json: json
      /lab/123/(ABC|DEF)/pl.*: plaintext
      /lab/123/ABC/auditlog: jsonl
      /health: plaintext

  output:
    type: confluentkafka_output
    topic: consumer
    error_topic: errors
    flush_timeout: 300
    send_timeout: 0
    kafka_config:
      bootstrap.servers: opensiem-kafka:9092
      compression.type: gzip
      statistics.interval.ms: "60000"

  # Additional logprep configurations
  # Note: The configuration keys 'logger', 'metrics', 'input' and 'output' will overwrite the
  # corresponding keys in these configurations as they will be merged into
  # the final configuration, after the configurations that are specified here.
  # for configurations with data from an external API put the url in the name field and leave the data field undefined
  #
  # Example:
  #
  # configurations:
  #   - name: logprep-config
  #     data:
  #       pipeline: []
  #   - name: https://rule-server.de
  #
  # See https://logprep.readthedocs.io/en/latest/user_manual/configuration/index.html#configuration-file-structure
  # for available configuration options.
  configurations:
    - name: logprep-config
      data:
        pipeline: []

  # Additional artifacts needed by the logprep deployment. These follow the same mechanic
  # as the configurations. The artifacts will be mounted into the pod under the name given
  # in the artifacts configuration
  # Beware, that configMaps are limited to 1MiB in size.
  # Example:
  # artifacts:
  #   - name: admin-list
  #     data: |
  #       alfalfa
  #       admin
  #       admin2
  artifacts: []
## for additional configurations see: `https://github.com/bitnami/charts/blob/main/bitnami/kafka/values.yaml`
kafka:
  controller:
    replicaCount: 1
  metrics:
    jmx:
      enabled: true
  provision:
    topics:
      - consumer
      - producer
